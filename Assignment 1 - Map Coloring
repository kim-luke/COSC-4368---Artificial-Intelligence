/*
	Luke Kim - 1478875
	COSC 4368: Fundamentals of Artificial Intelligence â€“ Assignment 1 - Problem 5
	Due: February 22, 2020

	This program will read .csv files, and store their data as inputs. 
	Using the data, the program will assign colors based on if 
	certain states are adjacent.
*/

#include <iostream>
#include <string>
#include <fstream>
#include <sstream>
using namespace std;

void storeGraph(ifstream& file, int** array, int rowSize, int colSize) {

	string line = "";
	string field = "";
	for (int i = 0; i < rowSize; i++) {

		getline(file, line);
		stringstream iss(line);

		for (int j = 0; j < colSize; j++) {

			getline(iss, field, ',');

			stringstream convertor(field);
			convertor >> array[i][j];
		}
		cout << endl;
	}
}

void showGraph(ifstream& file, int** array, int rowSize, int colSize) {
	for (int i = 0; i < rowSize; i++) {
		for (int j = 0; j < colSize; j++) {
			cout << array[i][j] << " ";
		}
		cout << endl;
	}
}

int main() {

	string line;
	int lineCount = 0;
	ifstream csv;
	csv.open("matrix_aust.csv");
	cout << "reading inputs now" << endl;
	
	while (getline(csv, line)) {
		lineCount++;
	}

	csv.close();

	int rowSize = lineCount;
	int colSize = lineCount;
	
	int** array = new int*[rowSize];
	for (int i = 0; i < rowSize; i++) {
		array[i] = new int[colSize];
	}

	ifstream csv2;
	csv2.open("matrix_aust.csv");
	storeGraph(csv2, array, rowSize, colSize);
	showGraph(csv2, array, rowSize, colSize);

	system("pause");
	return 0;
}
